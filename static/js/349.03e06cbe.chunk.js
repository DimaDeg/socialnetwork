"use strict";(self.webpackChunksocialnetwork=self.webpackChunksocialnetwork||[]).push([[349],{7284:function(t,s,e){e.d(s,{D:function(){return c}});var r=e(8683),n=e(4925),o=(e(2791),e(6871)),i=e(7375),u=e(184),a=["isAuth"],l=function(t){return{isAuth:t.Auth.isAuth}},c=function(t){return(0,i.$j)(l)((function(s){var e=s.isAuth,i=(0,n.Z)(s,a);return e?(0,u.jsx)(t,(0,r.Z)({},i)):(0,u.jsx)(o.Fg,{to:"/login"})}))}},9349:function(t,s,e){e.r(s),e.d(s,{default:function(){return F}});var r=e(8683),n=e(5671),o=e(3144),i=e(136),u=e(3668),a=e(2791),l=e(4925),c=e(9183),p=e(1989),d=e(4353),h=e(885),f=e(184),j=function(t){var s=t.status,e=t.updateStatus,r=(0,a.useState)(!1),n=(0,h.Z)(r,2),o=n[0],i=n[1],u=(0,a.useState)(s),l=(0,h.Z)(u,2),c=l[0],p=l[1];(0,a.useEffect)((function(){p(s)}),[s]);return(0,f.jsx)("div",{children:o?(0,f.jsx)("div",{children:(0,f.jsx)("input",{onBlur:function(){i(!1),s!==c&&e(c.trim())},onChange:function(t){p(t.currentTarget.value)},value:c,autoFocus:!0})}):(0,f.jsx)("div",{children:(0,f.jsxs)("span",{onDoubleClick:function(){i(!0),p(s)},style:{color:"white"},children:["status: ",c]})})})},m="ProfileInfo_ava__WOxRT",v=e(7375),x=["profile","isOwner"],_=function(t){var s=t.profile,e=t.isOwner,n=(0,l.Z)(t,x),o=(0,v.I0)();if(!s)return(0,f.jsx)(p.p,{});return(0,f.jsxs)("div",{children:[(0,f.jsx)("img",{className:m,src:s&&s.photos.large?s.photos.large:d,alt:""}),e&&(0,f.jsx)("input",{type:"file",onChange:function(t){t.target.files&&o((0,c.Ju)(t.target.files[0]))}}),(0,f.jsx)("span",{style:{color:"white",fontSize:20},children:s&&s.fullName}),(0,f.jsx)(j,(0,r.Z)({},n))]})},P={border:"MyPosts_border__RQfIZ",i:"MyPosts_i__lBHZC",h2:"MyPosts_h2__pS8VD",h3:"MyPosts_h3__xBs5m",in:"MyPosts_in__O0V-K",post:"MyPosts_post__83pBo"},g="Post_item__13ty8",b="Post_like__C7F78",y="Post_post__JlTKb",k=function(t){return(0,f.jsxs)("div",{className:g,children:[(0,f.jsx)("img",{src:"https://publicdomainvectors.org/tn_img/Male-Avatar-2.webp",alt:t.post}),(0,f.jsx)("div",{className:y,children:t.post},t.id),(0,f.jsx)("div",{children:(0,f.jsxs)("span",{className:b,children:["Like ",t.likeCount]})})]})},Z=e(5705),C=function(t){var s=t.addPost,e=(0,Z.TA)({initialValues:{post:""},onSubmit:function(t,e){var r=e.resetForm;s(t.post),r({values:{post:""}})}});return(0,f.jsxs)("form",{onSubmit:e.handleSubmit,children:[(0,f.jsx)("label",{htmlFor:"post",children:(0,f.jsx)("input",{name:"post",id:"post",placeholder:"your post",onChange:e.handleChange,value:e.values.post})}),(0,f.jsx)("button",{disabled:""===e.values.post,type:"submit",children:"click"})]})},N=a.memo((function(t){var s=t.posts.map((function(t){return(0,f.jsx)("div",{className:P.post,children:(0,f.jsx)(k,{id:t.id,post:t.post,likeCount:t.likeCount})},t.id)}));return(0,f.jsxs)("div",{className:P.border,children:[(0,f.jsx)("h2",{className:P.h2,children:"My posts"}),(0,f.jsxs)("div",{className:P.item,children:[(0,f.jsx)("h3",{className:P.h3,children:"New Post"}),(0,f.jsx)(C,{addPost:t.addPost})]}),s]})})),w=(0,v.$j)((function(t){return{posts:t.ProfilePage.posts}}),(function(t){return{addPost:function(s){return t((0,c.Pi)(s))}}}))(N),O="Profile_back__t460J",S=function(t){return(0,f.jsxs)("div",{className:O,children:[(0,f.jsx)(_,(0,r.Z)({},t)),(0,f.jsx)(w,{})]})},I=e(7781),A=e(7284),M=e(6177),D=function(t){(0,i.Z)(e,t);var s=(0,u.Z)(e);function e(){return(0,n.Z)(this,e),s.apply(this,arguments)}return(0,o.Z)(e,[{key:"refreshProfile",value:function(){var t=Number(this.props.params.userId);!t&&this.props.authorizedUserId&&(t=this.props.authorizedUserId),this.props.getProfile(t),this.props.getStatus(t)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t,s,e){this.props.params.userId!==t.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,f.jsx)("div",{children:(0,f.jsx)(S,(0,r.Z)((0,r.Z)({},this.props),{},{isOwner:!this.props.params.userId,savePhoto:this.props.savePhoto}))})}}]),e}(a.Component),F=(0,I.qC)(A.D,(0,v.$j)((function(t){return{profile:t.ProfilePage.profile,status:t.ProfilePage.status,authorizedUserId:t.Auth.id}}),{getProfile:c.Ai,getStatus:c.lR,updateStatus:c.Nf,savePhoto:c.Ju}),M.W)(D)},4925:function(t,s,e){function r(t,s){if(null==t)return{};var e,r,n=function(t,s){if(null==t)return{};var e,r,n={},o=Object.keys(t);for(r=0;r<o.length;r++)e=o[r],s.indexOf(e)>=0||(n[e]=t[e]);return n}(t,s);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)e=o[r],s.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(t,e)&&(n[e]=t[e])}return n}e.d(s,{Z:function(){return r}})}}]);
//# sourceMappingURL=349.03e06cbe.chunk.js.map